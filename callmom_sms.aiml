<?xml version="1.0" encoding="ISO-8859-1"?>
<aiml>
<!-- -->
<!-- Free software (c) 2012 Pandorabots, Inc.   -->
<!-- This program is open source code released under -->
<!-- the terms of the GNU Lesser General Public License     -->
<!-- as published by the Free Software Foundation.   -->
<!-- Last modified 1/21/2012 -->
<!-- -->
<!-- Authors: Steve Worswick squarebear@square-bear.co.uk -->
<!-- -->
<!-- For more information contact info@pandorabots.com -->

<!-- A few categories to set up contacts just to test the SMS function -->

<category>
 <pattern>XLEARNNUMBER * XSPLIT *</pattern>
 <template>
<think><set name="contacts"><person/> - <star index="2"/><br/><get name="contacts"/></set></think>

<learnf>
<category>
<pattern>XPHONE <eval><star index="1"/></eval> NUMBER</pattern>
<template><eval><star index="2"/></eval></template>
</category>
</learnf>

 </template>
</category>


<category>
<pattern>XPHONE * NUMBER</pattern>
<template>
UNKNOWN
</template>
</category>


<category>
<pattern>ADDNEWCONTACT *</pattern>
<template>
<think><set name="newcontact"><star index="1"/></set></think>
I don't have anyone in your contact list with that name. Would you like to add <set name="newcontactpers"><person/></set> as a contact?
</template>
</category>

<category>
<pattern>YES</pattern>
<that>WOULD YOU LIKE TO ADD * AS A CONTACT</that>
<template>
No problem, what is the phone number of <get name="newcontactpers"/>?
</template>
</category>

<category>
<pattern>NO</pattern>
<that>WOULD YOU LIKE TO ADD * AS A CONTACT</that>
<template>
Ok, but I can't call them if I don't know the number.
</template>
</category>

<category>
<pattern>*</pattern>
<that>NO PROBLEM WHAT IS THE PHONE NUMBER OF *</that>
<template>
The phone number for <get name="newcontactpers"/> is <set name="newphone"><star index="1"/></set>. Is that number correct?
</template>
</category>

<category>
<pattern>NO</pattern>
<that>IS THAT NUMBER CORRECT</that>
<template>
No problem, what is the phone number of <get name="newcontactpers"/>?
</template>
</category>

<category>
<pattern>YES</pattern>
<that>IS THAT NUMBER CORRECT</that>
<template>
Thanks, I have added <get name="newcontactpers"/> to your contacts. Their number is <get name="newphone"/>.<br/>
<think><srai>xlearnnumber <get name="newcontact"/> XSPLIT <get name="newphone"/></srai></think>
<srai><get name="function"/></srai>
</template>
</category>

<!-- end of contacts -->

<category><pattern>TEXT * *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>TEXT * TO SAY *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>TELL *</pattern><template><srai>TEXT <star index="1"/></srai></template></category>
<category><pattern>TEXT * SAYING *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>TEXT * SAYING THAT *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>TEXT * TO SAY *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>TEXT * TO SAY THAT *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>TEXT * TO TELL HER *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>TEXT * TO TELL HIM *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>TEXT * TELLING HER *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>TEXT * TELLING HIM *</pattern><template><srai>XTEXT <star index="1"/> XMESSAGE <star index="2"/></srai></template></category>
<category><pattern>CAN YOU TEXT *</pattern><template><srai>TEXT <star index="1"/></srai></template></category>
<category><pattern>CAN YOU TELL *</pattern><template><srai>TELL <star index="1"/></srai></template></category>
<category><pattern>CAN YOU * TEXT TO *</pattern><template><srai>TEXT <star index="2"/></srai></template></category>
<category><pattern>CAN YOU SEND A *</pattern><template><srai>SEND A <star index="1"/></srai></template></category>
<category><pattern>I WANT * SEND *</pattern><template><srai>SEND <star index="2"/></srai></template></category>
<category><pattern>I WOULD LIKE * SEND *</pattern><template><srai>SEND <star index="2"/></srai></template></category>
<category><pattern>I WISH * SEND *</pattern><template><srai>SEND <star index="2"/></srai></template></category>
<category><pattern>I NEED * SEND *</pattern><template><srai>SEND <star index="2"/></srai></template></category>
<category><pattern>I WANT * TEXT *</pattern><template><srai>TEXT <star index="2"/></srai></template></category>
<category><pattern>I WOULD LIKE * TEXT *</pattern><template><srai>TEXT <star index="2"/></srai></template></category>
<category><pattern>I WISH * TEXT *</pattern><template><srai>TEXT <star index="2"/></srai></template></category>
<category><pattern>I NEED * TEXT *</pattern><template><srai>TEXT <star index="2"/></srai></template></category>
<category><pattern>SEND A * TO *</pattern><template><srai>TEXT <star index="2"/></srai></template></category>
<category><pattern>SEND A * TO * ON * MOBILE *</pattern><template><srai>TEXT <star index="2"/> SAYING <star index="4"/></srai></template></category>
<category><pattern>SEND A TEXT TO *</pattern><template><srai>TEXT <star index="1"/></srai></template></category>
<category><pattern>SEND A TEXT MESSAGE TO *</pattern><template><srai>TEXT <star index="1"/></srai></template></category>
<category><pattern>SEND A MESSAGE TO *</pattern><template><srai>TEXT <star index="1"/></srai></template></category>
<category><pattern>SEND AN SMS MESSAGE TO *</pattern><template><srai>TEXT <star index="1"/></srai></template></category>
<category><pattern>SEND AN SMS TO *</pattern><template><srai>TEXT <star index="1"/></srai></template></category>
<category><pattern>_ A SMS *</pattern><template><srai><star index="1"/> an SMS <star index="2"/></srai></template></category>

<category><pattern>TEXT *</pattern><template><think><set name="textcontact"><star index="1"/></set></think>Sure, what would you like to say to <set name="textcontactpers"><person/></set>?</template></category>

<!-- <category><pattern>TEXT * AND * *</pattern><template><srai>TEXT <star index="1"/> <star index="3"/></srai><srai>TEXT <star index="2"/> <star index="3"/></srai></template></category>
<category><pattern>TEXT BOTH * AND *</pattern><template><srai>TEXT <star index="1"/> AND <star index="2"/></srai></template></category> -->

<!-- Send a message to Jason Russell -->
<!-- Send a message to 408 555 1212 -->

<category><pattern>TELL HIM *</pattern><that>SURE WHAT WOULD YOU LIKE TO SAY TO *</that><template><srai>TEXT <get name="textcontact"/> SAYING <star/></srai></template></category>
<category><pattern>TELL HER *</pattern><that>SURE WHAT WOULD YOU LIKE TO SAY TO *</that><template><srai>TEXT <get name="textcontact"/> SAYING <star/></srai></template></category>
<category><pattern>I *</pattern><that>SURE WHAT WOULD YOU LIKE TO SAY TO *</that><template><srai>TEXT <get name="textcontact"/> SAYING I <star/></srai></template></category>
<category><pattern>*</pattern><that>SURE WHAT WOULD YOU LIKE TO SAY TO *</that><template><srai>TEXT <get name="textcontact"/> SAYING I <star/></srai></template></category>


<category>
<pattern>XTEXT *</pattern>
<template>
XXX <input index="1"/> XXX <br/>
<srai><input index="1"/> ENDTEXT</srai>
</template>
</category>

<category>
<pattern>XTEXT * XMESSAGE * ENDTEXT</pattern>
<template>
<think>
<set name="textcontact"><star index="1"/></set>
<set name="textcontactpers"><person/></set>
<set name="numbertodial"><srai>xphone <star index="1"/> number</srai></set>
<set name="function">XTEXT <star index="1"/> XMESSAGE <star index="2"/> ENDTEXT</set>
</think>
<condition name="numbertodial">
<li value="UNKNOWN"><srai>ADDNEWCONTACT <star index="1"/></srai></li>
<li value="*"><think><set name="textmessage"><star index="2"/></set></think><srai>SENDTEXTMESSAGE</srai></li>
</condition>
</template>
</category>

<category>
<pattern>SENDTEXTMESSAGE</pattern>
<template>
<oob><sms><recipient><get name="numbertodial"/></recipient> <message><get name="textmessage"/></message></sms></oob>
Now sending "<get name="textmessage"/>" to <get name="textcontactpers"/>.
</template>
</category>


</aiml>
